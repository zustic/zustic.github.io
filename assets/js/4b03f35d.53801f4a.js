"use strict";(globalThis.webpackChunkzustic_doc=globalThis.webpackChunkzustic_doc||[]).push([[7944],{7989(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"tutorial-extras/best-practices","title":"Best Practices","description":"Learn the recommended patterns and approaches for using Zustic effectively.","source":"@site/docs/tutorial-extras/best-practices.md","sourceDirName":"tutorial-extras","slug":"/tutorial-extras/best-practices","permalink":"/docs/tutorial-extras/best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-extras/best-practices.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Advanced Examples","permalink":"/docs/tutorial-extras/advanced-examples"},"next":{"title":"Query API Overview","permalink":"/docs/tutorial-extras/query-overview"}}');var r=n(4848),o=n(8453);const a={sidebar_position:3},i="Best Practices",c={},l=[{value:"1. Organize Your Stores",id:"1-organize-your-stores",level:2},{value:"Recommended Structure",id:"recommended-structure",level:3},{value:"Central Export File",id:"central-export-file",level:3},{value:"Usage in Components",id:"usage-in-components",level:3},{value:"2. Type Your Store Properly",id:"2-type-your-store-properly",level:2},{value:"3. Keep State Flat",id:"3-keep-state-flat",level:2},{value:"Flat Structure (Recommended)",id:"flat-structure-recommended",level:3},{value:"Deeply Nested (Avoid)",id:"deeply-nested-avoid",level:3},{value:"4. Use Immutable Updates",id:"4-use-immutable-updates",level:2},{value:"Immutable Updates",id:"immutable-updates",level:3},{value:"Mutations to Avoid",id:"mutations-to-avoid",level:3},{value:"5. Separate Concerns",id:"5-separate-concerns",level:2},{value:"Separate Stores",id:"separate-stores",level:3},{value:"Single Monolithic Store",id:"single-monolithic-store",level:3},{value:"6. Error Handling",id:"6-error-handling",level:2},{value:"7. Naming Conventions",id:"7-naming-conventions",level:2},{value:"8. Optimization Tips",id:"8-optimization-tips",level:2},{value:"Minimize Subscriptions",id:"minimize-subscriptions",level:3},{value:"Use Memoization",id:"use-memoization",level:3},{value:"Split Large Stores",id:"split-large-stores",level:3},{value:"9. Testing Stores",id:"9-testing-stores",level:2},{value:"10. Documentation",id:"10-documentation",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"best-practices",children:"Best Practices"})}),"\n",(0,r.jsx)(t.p,{children:"Learn the recommended patterns and approaches for using Zustic effectively."}),"\n",(0,r.jsx)(t.h2,{id:"1-organize-your-stores",children:"1. Organize Your Stores"}),"\n",(0,r.jsx)(t.p,{children:"Keep stores organized in a dedicated directory structure:"}),"\n",(0,r.jsx)(t.h3,{id:"recommended-structure",children:"Recommended Structure"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"src/\n\u251c\u2500\u2500 stores/\n\u2502   \u251c\u2500\u2500 index.ts           # Central export point\n\u2502   \u251c\u2500\u2500 counterStore.ts\n\u2502   \u251c\u2500\u2500 userStore.ts\n\u2502   \u251c\u2500\u2500 authStore.ts\n\u2502   \u251c\u2500\u2500 appStore.ts\n\u2502   \u2514\u2500\u2500 types.ts           # Shared types\n\u251c\u2500\u2500 components/\n\u251c\u2500\u2500 hooks/\n\u2514\u2500\u2500 utils/\n"})}),"\n",(0,r.jsx)(t.h3,{id:"central-export-file",children:"Central Export File"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// src/stores/index.ts\nexport { useCounterStore } from './counterStore';\nexport { useUserStore } from './userStore';\nexport { useAuthStore } from './authStore';\nexport { useAppStore } from './appStore';\n\n// Export types\nexport type { CounterStore } from './counterStore';\nexport type { UserStore } from './userStore';\n"})}),"\n",(0,r.jsx)(t.h3,{id:"usage-in-components",children:"Usage in Components"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"//  Good - import from central location\nimport { useCounterStore, useUserStore } from '@/stores';\n\n//  Avoid - scattered imports\nimport { useCounterStore } from '@/stores/counterStore';\nimport { useUserStore } from '@/stores/userStore';\n"})}),"\n",(0,r.jsx)(t.h2,{id:"2-type-your-store-properly",children:"2. Type Your Store Properly"}),"\n",(0,r.jsx)(t.p,{children:"Always define proper TypeScript interfaces for type safety:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"import { create } from 'zustic';\n\n// Define a clear interface\ninterface CounterState {\n  // State\n  count: number;\n  history: number[];\n\n  // Actions\n  increment: () => void;\n  decrement: () => void;\n  reset: () => void;\n  getHistory: () => number[];\n}\n\nexport const useCounter = create<CounterState>((set, get) => ({\n  count: 0,\n  history: [],\n\n  increment: () =>\n    set((state) => ({\n      count: state.count + 1,\n      history: [...state.history, state.count],\n    })),\n\n  decrement: () =>\n    set((state) => ({\n      count: state.count - 1,\n      history: [...state.history, state.count],\n    })),\n\n  reset: () => set({ count: 0, history: [] }),\n\n  getHistory: () => get().history,\n}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"3-keep-state-flat",children:"3. Keep State Flat"}),"\n",(0,r.jsx)(t.p,{children:"Flatten your state structure for better performance and easier updates:"}),"\n",(0,r.jsx)(t.h3,{id:"flat-structure-recommended",children:"Flat Structure (Recommended)"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"const useUserStore = create((set) => ({\n  userId: '123',\n  userName: 'John',\n  userEmail: 'john@example.com',\n  userRole: 'admin',\n  userAge: 30,\n\n  setUserInfo: (name, email, age) =>\n    set({\n      userName: name,\n      userEmail: email,\n      userAge: age,\n    }),\n}));\n"})}),"\n",(0,r.jsx)(t.h3,{id:"deeply-nested-avoid",children:"Deeply Nested (Avoid)"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"const useUserStore = create((set) => ({\n  user: {\n    profile: {\n      personal: {\n        name: 'John',\n        email: 'john@example.com',\n      },\n      settings: {\n        notifications: true,\n      },\n    },\n  },\n\n  // Very complex updates needed\n  setUserName: (name) =>\n    set((state) => ({\n      user: {\n        ...state.user,\n        profile: {\n          ...state.user.profile,\n          personal: {\n            ...state.user.profile.personal,\n            name,\n          },\n        },\n      },\n    })),\n}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"4-use-immutable-updates",children:"4. Use Immutable Updates"}),"\n",(0,r.jsx)(t.p,{children:"Always create new objects instead of mutating existing state:"}),"\n",(0,r.jsx)(t.h3,{id:"immutable-updates",children:"Immutable Updates"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Adding to array\nset((state) => ({\n  items: [...state.items, newItem],\n}));\n\n// Removing from array\nset((state) => ({\n  items: state.items.filter((item) => item.id !== id),\n}));\n\n// Updating object property\nset((state) => ({\n  user: { ...state.user, name: 'New Name' },\n}));\n\n// Mapping array\nset((state) => ({\n  items: state.items.map((item) =>\n    item.id === id ? { ...item, completed: true } : item\n  ),\n}));\n"})}),"\n",(0,r.jsx)(t.h3,{id:"mutations-to-avoid",children:"Mutations to Avoid"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Direct array mutation\nset((state) => {\n  state.items.push(newItem);  //  Mutates!\n  return state;\n});\n\n// Direct object mutation\nset((state) => {\n  state.user.name = 'New Name';  //  Mutates!\n  return state;\n});\n\n// Reassigning array elements\nset((state) => {\n  state.items[0] = newItem;  //  Mutates!\n  return state;\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"5-separate-concerns",children:"5. Separate Concerns"}),"\n",(0,r.jsx)(t.p,{children:"Create separate stores for different parts of your application:"}),"\n",(0,r.jsx)(t.h3,{id:"separate-stores",children:"Separate Stores"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Authentication logic\nconst useAuthStore = create((set) => ({\n  isAuthenticated: false,\n  login: () => set({ isAuthenticated: true }),\n  logout: () => set({ isAuthenticated: false }),\n}));\n\n// User data\nconst useUserStore = create((set) => ({\n  profile: null,\n  setProfile: (profile) => set({ profile }),\n}));\n\n// UI state\nconst useUIStore = create((set) => ({\n  isDarkMode: false,\n  toggleDarkMode: () =>\n    set((state) => ({ isDarkMode: !state.isDarkMode })),\n}));\n"})}),"\n",(0,r.jsx)(t.h3,{id:"single-monolithic-store",children:"Single Monolithic Store"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"const useAppStore = create((set) => ({\n  // Auth\n  isAuthenticated: false,\n  login: () => set({ isAuthenticated: true }),\n\n  // User\n  profile: null,\n  setProfile: (profile) => set({ profile }),\n\n  // UI\n  isDarkMode: false,\n  toggleDarkMode: () =>\n    set((state) => ({ isDarkMode: !state.isDarkMode })),\n\n  // ... many more features\n}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"6-error-handling",children:"6. Error Handling"}),"\n",(0,r.jsx)(t.p,{children:"Always handle errors gracefully in async operations:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"interface AsyncStore {\n  data: T | null;\n  loading: boolean;\n  error: Error | null;\n  fetch: (query: string) => Promise<void>;\n  reset: () => void;\n}\n\nexport const useDataStore = create<AsyncStore>((set) => ({\n  data: null,\n  loading: false,\n  error: null,\n\n  fetch: async (query: string) => {\n    set({ loading: true, error: null });\n\n    try {\n      const response = await fetch(`/api/data?q=${query}`);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      set({ data, loading: false });\n    } catch (error) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Unknown error';\n\n      set({\n        error: new Error(errorMessage),\n        loading: false,\n      });\n    }\n  },\n\n  reset: () => set({ data: null, error: null }),\n}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"7-naming-conventions",children:"7. Naming Conventions"}),"\n",(0,r.jsx)(t.p,{children:"Use clear, consistent naming for stores and actions:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Store naming - use 'use' prefix and descriptive names\nconst useCounterStore = create((set) => ({...}));\nconst useUserStore = create((set) => ({...}));\nconst useAuthStore = create((set) => ({...}));\n\n// Action naming\nconst useStore = create((set) => ({\n  // Getters - start with 'get'\n  getTotal: () => {...},\n  getActiveItems: () => {...},\n\n  // Setters - start with 'set'\n  setName: (name: string) => set({name}),\n  setActive: (active: boolean) => set({active}),\n\n  // Toggles - start with 'toggle'\n  toggleVisibility: () => set((state) => ({...})),\n  toggleDarkMode: () => set((state) => ({...})),\n\n  // Fetchers - start with 'fetch'\n  fetchUsers: async () => {...},\n  fetchData: async () => {...},\n\n  // Handlers - start with 'handle' or specific verb\n  handleSubmit: (data) => {...},\n  addItem: (item) => {...},\n  removeItem: (id) => {...},\n}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"8-optimization-tips",children:"8. Optimization Tips"}),"\n",(0,r.jsx)(t.h3,{id:"minimize-subscriptions",children:"Minimize Subscriptions"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"//  Subscribe only to needed state\nconst count = useStore((state) => state.count);\nconst name = useStore((state) => state.name);\n\n//  Subscribe to entire store when you need one property\nconst { count } = useStore(); // Re-renders on any state change\n"})}),"\n",(0,r.jsx)(t.h3,{id:"use-memoization",children:"Use Memoization"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"import { memo, useMemo } from 'react';\n\n// Memoize heavy components\nconst UserCard = memo(function UserCard({ userId }: { userId: string }) {\n  const user = useUserStore((state) =>\n    state.users.find((u) => u.id === userId)\n  );\n\n  return <div>{user?.name}</div>;\n});\n\n// Memoize computed values\nfunction UserStats() {\n  const scores = useStatsStore((state) => state.scores);\n\n  const average = useMemo(\n    () => scores.reduce((a, b) => a + b, 0) / scores.length,\n    [scores]\n  );\n\n  return <div>Average: {average}</div>;\n}\n"})}),"\n",(0,r.jsx)(t.h3,{id:"split-large-stores",children:"Split Large Stores"}),"\n",(0,r.jsx)(t.p,{children:"For applications with extensive state, split into multiple stores:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Instead of one massive store\nconst useAppStore = create((set) => ({\n  // 50+ properties and methods...\n}));\n\n// Use multiple focused stores\nconst useAuthStore = create((set) => ({...}));\nconst useUserStore = create((set) => ({...}));\nconst useCartStore = create((set) => ({...}));\nconst useUIStore = create((set) => ({...}));\nconst useSettingsStore = create((set) => ({...}));\n"})}),"\n",(0,r.jsx)(t.h2,{id:"9-testing-stores",children:"9. Testing Stores"}),"\n",(0,r.jsx)(t.p,{children:"Make your stores testable:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"// Store definition\nexport const useCounterStore = create<CounterStore>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  reset: () => set({ count: 0 }),\n}));\n\n// Example test\ndescribe('useCounterStore', () => {\n  beforeEach(() => {\n    // Reset state between tests\n    useCounterStore.setState({ count: 0 });\n  });\n\n  test('should increment count', () => {\n    const store = useCounterStore.getState();\n    store.increment();\n    expect(store.count).toBe(1);\n  });\n\n  test('should reset count', () => {\n    const store = useCounterStore.getState();\n    store.increment();\n    store.reset();\n    expect(store.count).toBe(0);\n  });\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"10-documentation",children:"10. Documentation"}),"\n",(0,r.jsx)(t.p,{children:"Document your stores clearly:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"/**\n * Counter store for managing application-wide counter state.\n *\n * @example\n * ```tsx\n * function Counter() {\n *   const { count, increment, decrement } = useCounterStore();\n *   return <button onClick={increment}>{count}</button>;\n * }\n * ```\n */\ninterface CounterStore {\n  /** Current count value */\n  count: number;\n\n  /** Increments the count by 1 */\n  increment: () => void;\n\n  /** Decrements the count by 1 */\n  decrement: () => void;\n\n  /** Resets count to 0 */\n  reset: () => void;\n}\n\nexport const useCounterStore = create<CounterStore>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  decrement: () => set((state) => ({ count: state.count - 1 })),\n  reset: () => set({ count: 0 }),\n}));\n"})}),"\n",(0,r.jsx)(t.p,{children:"By following these best practices, you'll write cleaner, more maintainable Zustic code!"})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>i});var s=n(6540);const r={},o=s.createContext(r);function a(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);