"use strict";(globalThis.webpackChunkzustic_doc=globalThis.webpackChunkzustic_doc||[]).push([[9849],{8478(e,a,n){n.d(a,{A:()=>r});n(6540);var t=n(2303),s=n(4848);function r({children:e,fallback:a}){return(0,t.A)()?(0,s.jsx)(s.Fragment,{children:e?.()}):a??null}},528(e,a,n){n.r(a),n.d(a,{default:()=>u});var t=n(6540),s=n(1765);const r={container:"container_K7zL",builderContainer:"builderContainer_zDoL",sidebar:"sidebar_gTCL",sidebarHeader:"sidebarHeader_tiBm",logo:"logo_hqi9",logoSubtitle:"logoSubtitle_EmW3",endpointsList:"endpointsList_wJX0",listHeader:"listHeader_RevW",addButton:"addButton_qFcz",newEndpointForm:"newEndpointForm_z0lu",formInput:"formInput_zqlY",formSelect:"formSelect__Sw8",inputError:"inputError_TFd2",errorMessage:"errorMessage_Oa75",slideDown:"slideDown_dD6H",formButtons:"formButtons_fIlP",saveButton:"saveButton_eQs2",cancelButton:"cancelButton_GKUQ",searchContainer:"searchContainer_lcqj",searchInput:"searchInput_U2Mu",clearSearchButton:"clearSearchButton_A1dp",noResults:"noResults_p8Yj",endpointsContainer:"endpointsContainer_w6hR",endpoint:"endpoint_NXTy",active:"active_CL3g",endpointContent:"endpointContent_I2QG",methodBadge:"methodBadge_CD1y",GET:"GET_QhVe",POST:"POST_xKKn",PUT:"PUT_jGXG",DELETE:"DELETE_TsYT",endpointInfo:"endpointInfo_VDab",endpointName:"endpointName_ahRk",endpointUrl:"endpointUrl_xwtv",deleteButton:"deleteButton_IkJ7",content:"content_W2hS",header:"header_DMKq",headerTitle:"headerTitle_IMwL",methodKeyword:"methodKeyword__o6w",methodString:"methodString_kJcA",editor:"editor_DG8u",section:"section_Sl2s",sectionTitle:"sectionTitle_coe9",parametersPanel:"parametersPanel_l1lF",paramGroup:"paramGroup_jpXP",paramLabel:"paramLabel_MZ4u",methodBadgeSmall:"methodBadgeSmall_FVv6",urlDisplay:"urlDisplay_SQnw",divider:"divider_R7z4",paramHeader:"paramHeader_deHF",addParamButton:"addParamButton_j5TB",bodyInput:"bodyInput_Vj4L",paramsContainer:"paramsContainer_uDSz",paramRow:"paramRow_MrDW",paramInput:"paramInput_IFsS",paramSelect:"paramSelect_EvS3",removeParamButton:"removeParamButton_hCM5",codeHeader:"codeHeader_Xiap",copyButton:"copyButton_fMYV",copied:"copied_thsK",codeBlock:"codeBlock_INg6",lineNumber:"lineNumber_iibd",empty:"empty_Itek",themeToggle:"themeToggle_tuV2"};var l=n(5260);var o=(e,a,n)=>n&&0!==n.length?n.reduceRight((n,t)=>t(e,a)(n),e):e,i=n(8478),d=n(4848);const c=function(e,a=[]){let n,s=[],r=()=>n,l=o(e=>{let a="function"==typeof e?e(n):e;n={...n,...a},s.forEach(e=>e())},r,a);n=e(l,r);let i=e=>(s.push(e),()=>{s=s.filter(a=>a!==e)});return()=>(0,t.useSyncExternalStore)(i,r)}(e=>{let a=null,n=null;return"undefined"!=typeof window&&(a=window.localStorage.getItem("query-builder"),n=a?JSON.parse(a):null),{endpoints:n?.endpoints||[{id:"default-1",name:"Get Users",method:"GET",url:"/users"}],endpointDataMap:n?.endpointDataMap||{"default-1":{params:[],body:""}},setEndpoints:a=>e({endpoints:a}),setEndpointData:(a,n)=>e(e=>({endpointDataMap:{...e.endpointDataMap,[a]:n}}))}},[(e,a)=>e=>async n=>{e(n);try{const e=a();"undefined"!=typeof window&&window.localStorage.setItem("query-builder",JSON.stringify(e))}catch(t){console.error("Failed to persist:",t)}}]);function u(){return(0,d.jsx)(i.A,{children:()=>(0,d.jsx)(m,{})})}function m(){const{setEndpoints:e,endpoints:a,endpointDataMap:n,setEndpointData:o}=c(),[i,u]=(0,t.useState)(a[0]||null),[m,p]=(0,t.useState)(!1),[h,x]=(0,t.useState)(""),[j,v]=(0,t.useState)({id:"",name:"",method:"GET",url:""}),[N,g]=(0,t.useState)(!1),[y,_]=(0,t.useState)(""),b=a.filter(e=>{const a=h.toLowerCase();return e.name.toLowerCase().includes(a)||e.url.toLowerCase().includes(a)}),C=i&&n[i.id]||{params:[],body:""},S=C.params,f=C.body,B=e=>{i&&o(i.id,{...C,params:e})},E=()=>{if(!i)return"";const e=f.trim(),a=S.filter(e=>e.value),n=["GET"].includes(i.method),t=i.name.replace(/\s+/g,"_");let s="";a.length>0&&n&&(s=a.map(e=>`${e.key}=\${${e.key}}`).join("&"));let r=i.url;s&&(r+=`?${s}`);let l="const api = createApi({\n";return l+="  baseQuery: async (params) => {\n",l+="    // Your base query logic here\n",l+="  },\n",l+="  endpoints(builder) {\n",l+="    return {\n",n?(l+=`      ${t}: builder.query<any, any>({\n`,l+="        query: (arg) => ({\n",l+=`          method: '${i.method}',\n`,l+=`          url: \`${r}\`,\n`,l+="        }),\n",l+="        onSuccess(data) {\n",l+="          console.log(data);\n",l+="        },\n",l+="        onError(err) {\n",l+="          console.error(err);\n",l+="        },\n",l+="      }),\n"):(l+=`      ${t}: builder.mutation<any, any>({\n`,l+="        query: (arg) => ({\n",l+=`          url: '${i.url}',\n`,l+=`          method: '${i.method}',\n`,e&&(l+="          body: {...arg},\n",l+="          headers: {\n",l+="            'Content-type': 'application/json; charset=UTF-8',\n",l+="          },\n"),l+="        }),\n",l+="        onSuccess(data) {\n",l+="          console.log(data);\n",l+="        },\n",l+="        onError(err) {\n",l+="          console.error(err);\n",l+="        },\n",l+="      }),\n"),l+="    }\n",l+="  },\n",l+="})\n\n",l+="const {\n",l+=n?`  use${t.charAt(0).toUpperCase()+t.slice(1)}Query,\n`:`  use${t.charAt(0).toUpperCase()+t.slice(1)}Mutation,\n`,l+="} = api",l},T=(e,a,n)=>{const t=[...S];t[e]={...t[e],[a]:n},B(t)};return(0,d.jsxs)("div",{className:r.container,children:[(0,d.jsxs)(l.A,{children:[(0,d.jsx)("title",{children:"Zustic Query Builder"}),(0,d.jsx)("meta",{name:"description",content:"Build and generate RTK Query endpoints live using Zustic Query Builder"})]}),(0,d.jsxs)("div",{className:r.builderContainer,children:[(0,d.jsxs)("aside",{className:r.sidebar,children:[(0,d.jsxs)("div",{className:r.sidebarHeader,children:[(0,d.jsx)("h1",{className:r.logo,children:"Zustic Query"}),(0,d.jsx)("p",{className:r.logoSubtitle,children:"Builder"})]}),(0,d.jsxs)("div",{className:r.endpointsList,children:[(0,d.jsxs)("div",{className:r.listHeader,children:[(0,d.jsx)("h3",{children:"Endpoints"}),(0,d.jsx)("button",{className:r.addButton,onClick:()=>p(!m),title:"Add new endpoint",children:"+"})]}),(0,d.jsxs)("div",{className:r.searchContainer,children:[(0,d.jsx)("input",{type:"text",placeholder:"Search by name or URL...",value:h,onChange:e=>x(e.target.value),className:r.searchInput}),h&&(0,d.jsx)("button",{className:r.clearSearchButton,onClick:()=>x(""),title:"Clear search",children:"\u2715"})]}),m&&(0,d.jsxs)("div",{className:r.newEndpointForm,children:[y&&(0,d.jsx)("div",{className:r.errorMessage,children:(0,d.jsxs)("span",{children:["\u26a0\ufe0f ",y]})}),(0,d.jsx)("input",{type:"text",placeholder:"Endpoint name",value:j.name,onChange:e=>{v({...j,name:e.target.value}),_("")},className:`${r.formInput} ${y?r.inputError:""}`}),(0,d.jsxs)("select",{value:j.method,onChange:e=>v({...j,method:e.target.value}),className:r.formSelect,children:[(0,d.jsx)("option",{value:"GET",children:"GET"}),(0,d.jsx)("option",{value:"POST",children:"POST"}),(0,d.jsx)("option",{value:"PUT",children:"PUT"}),(0,d.jsx)("option",{value:"DELETE",children:"DELETE"})]}),(0,d.jsx)("input",{type:"text",placeholder:"URL (e.g., /users)",value:j.url,onChange:e=>{v({...j,url:e.target.value}),_("")},className:`${r.formInput} ${y?r.inputError:""}`}),(0,d.jsxs)("div",{className:r.formButtons,children:[(0,d.jsx)("button",{className:r.saveButton,onClick:()=>{if(_(""),!j.name.trim())return void _("Endpoint name is required");if(!j.url.trim())return void _("Endpoint URL is required");if(a.some(e=>e.name.toLowerCase()===j.name.toLowerCase()))return void _(`Endpoint "${j.name}" already exists`);const n=`endpoint-${Date.now()}`,t={...j,id:n};e([...a,t]),o(n,{params:[],body:""}),u(t),v({id:"",name:"",method:"GET",url:""}),p(!1)},children:"Save"}),(0,d.jsx)("button",{className:r.cancelButton,onClick:()=>p(!1),children:"Cancel"})]})]}),(0,d.jsx)("div",{className:r.endpointsContainer,children:b.length>0?b.map((n,t)=>(0,d.jsxs)("div",{className:`${r.endpoint} ${i?.id===n.id?r.active:""}`,onClick:()=>u(n),children:[(0,d.jsxs)("div",{className:r.endpointContent,children:[(0,d.jsx)("span",{className:`${r.methodBadge} ${r[`methodBadge${n.method}`]}`,children:n.method}),(0,d.jsxs)("div",{className:r.endpointInfo,children:[(0,d.jsx)("div",{className:r.endpointName,children:n.name}),(0,d.jsx)("div",{className:r.endpointUrl,children:n.url})]})]}),(0,d.jsx)("button",{className:r.deleteButton,onClick:t=>{t.stopPropagation();(n=>{const t=a[n],s=a.filter((e,a)=>a!==n);e(s),i?.id===t.id&&s.length>0&&u(s[0])})(a.findIndex(e=>e.id===n.id))},title:"Delete endpoint",children:"\u2715"})]},t)):(0,d.jsx)("div",{className:r.noResults,children:(0,d.jsx)("p",{children:"No endpoints found"})})})]})]}),(0,d.jsx)("main",{className:r.content,children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:r.header,children:(0,d.jsxs)("div",{className:r.headerTitle,children:[(0,d.jsx)("h2",{children:i.name}),(0,d.jsxs)("code",{children:[(0,d.jsx)("span",{className:r.methodKeyword,children:i.method})," ",(0,d.jsx)("span",{className:r.methodString,children:i.url})]})]})}),(0,d.jsxs)("div",{className:r.editor,children:[(0,d.jsxs)("div",{className:r.section,children:[(0,d.jsx)("h3",{className:r.sectionTitle,children:"Parameters"}),(0,d.jsxs)("div",{className:r.parametersPanel,children:[(0,d.jsx)("div",{className:r.paramGroup,children:(0,d.jsxs)("label",{className:r.paramLabel,children:["Method: ",(0,d.jsx)("span",{className:r.methodBadgeSmall,children:i.method})]})}),(0,d.jsxs)("div",{className:r.paramGroup,children:[(0,d.jsx)("label",{className:r.paramLabel,children:"Endpoint URL:"}),(0,d.jsx)("div",{className:r.urlDisplay,children:i.url})]}),(0,d.jsx)("div",{className:r.divider}),(0,d.jsxs)("div",{className:r.paramGroup,children:[(0,d.jsxs)("div",{className:r.paramHeader,children:[(0,d.jsx)("label",{className:r.paramLabel,children:"Query Parameters:"}),(0,d.jsx)("button",{className:r.addParamButton,onClick:()=>{const e=[...S,{key:"",value:"",type:"string"}];B(e)},title:"Add parameter",children:"+ Add"})]}),(0,d.jsx)("div",{className:r.paramsContainer,children:S.map((e,a)=>(0,d.jsxs)("div",{className:r.paramRow,children:[(0,d.jsx)("input",{type:"text",placeholder:"Key",value:e.key,onChange:e=>T(a,"key",e.target.value),className:r.paramInput}),(0,d.jsx)("input",{type:"text",placeholder:"Value",value:e.value,onChange:e=>T(a,"value",e.target.value),className:r.paramInput}),(0,d.jsxs)("select",{value:e.type,onChange:e=>T(a,"type",e.target.value),className:r.paramSelect,children:[(0,d.jsx)("option",{value:"string",children:"string"}),(0,d.jsx)("option",{value:"number",children:"number"}),(0,d.jsx)("option",{value:"boolean",children:"boolean"})]}),(0,d.jsx)("button",{className:r.removeParamButton,onClick:()=>(e=>{const a=S.filter((a,n)=>n!==e);B(a)})(a),title:"Remove parameter",children:"\u2715"})]},a))})]}),(0,d.jsx)("div",{className:r.divider}),!["GET"].includes(i.method)&&(0,d.jsxs)("div",{className:r.paramGroup,children:[(0,d.jsx)("label",{className:r.paramLabel,children:"Request Body (JSON):"}),(0,d.jsx)("textarea",{className:r.bodyInput,placeholder:'{"id": 1, "name": "John"}',value:f,onChange:e=>{return a=e.target.value,void(i&&o(i.id,{...C,body:a}));var a}})]})]})]}),(0,d.jsxs)("div",{className:r.section,children:[(0,d.jsxs)("div",{className:r.codeHeader,children:[(0,d.jsx)("h3",{className:r.sectionTitle,children:"Generated Code"}),(0,d.jsx)("button",{className:`${r.copyButton} ${N?r.copied:""}`,onClick:()=>{const e=E();navigator.clipboard.writeText(e).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)})},title:"Copy to clipboard",children:N?"\u2713 Copied!":"\ud83d\udccb Copy"})]}),(0,d.jsx)(s.f4,{theme:s.Zj.dracula,code:E()||"// Configure parameters to generate code",language:"typescript",children:({className:e,style:a,tokens:n,getLineProps:t,getTokenProps:s})=>(0,d.jsx)("pre",{className:`${e} ${r.codeBlock}`,style:a,children:n.map((e,a)=>(0,d.jsxs)("div",{...t({line:e,key:a}),children:[(0,d.jsx)("span",{className:r.lineNumber,children:a+1}),e.map((e,a)=>(0,d.jsx)("span",{...s({token:e,key:a})},a))]},a))})})]})]})]}):(0,d.jsx)("div",{className:r.empty,children:(0,d.jsx)("p",{children:"Select an endpoint or create a new one to get started"})})})]})]})}}}]);